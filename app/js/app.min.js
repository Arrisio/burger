// Hamburger menu
const menuBtn = document.querySelector('.hamburger-menu-link'),
	hamMenu = document.getElementById('hamburger-menu'),
	hamList = document.getElementById('nav__list_hamburger'),
	body = document.querySelector('body');
hamListItems = document.querySelectorAll('.nav_hamburger .nav__item');


function аsleep(ms) {
	return new Promise(resolve => setTimeout(resolve, ms));
}

async function toggleMenu() {
	menuBtn.classList.toggle('is-active');
	hamMenu.classList.toggle('is-active');
	body.classList.toggle('is-locked');

	for (let hamListItem of hamListItems) {
		// console.log(hamListItem);
		hamListItem.classList.toggle('is-active');
		await аsleep(100);
	};
};

menuBtn.addEventListener('click', e => {
	e.preventDefault();
	toggleMenu();
});
hamList.addEventListener('click', e => {
	let el = e.target;
	if (el.tagName == 'A') {
		toggleMenu();
	};
});


// Modal
modal = document.getElementById('modal');

function openModal(name = '', text = '', event = false) {
	(event ? event.preventDefault() : void(0)); // Если модалка открыта не по клику из из AJAX
	modal.classList.add('is-active');
	modal.querySelector('#modal__name').textContent = name;
	modal.querySelector('#modal__text').textContent = text;
	body.classList.add('is-locked');
}
$('.reviews__item .btn').on('click', (e) => {
	openModal(
		name = $(e.target).siblings(".reviews__title").text(),
		text = $(e.target).siblings(".reviews__text").text(),
		event = e
	);
});

// Закрытие Окна
$('.modal').on('click', (e) => {
	if (e.target == modal || e.target == modal.querySelector('.modal__close')) {
		e.preventDefault();
		modal.classList.remove('is-active');
		body.classList.remove('is-locked');
	}
})

//Закрытие модалки или меню на Esc
document.addEventListener("keydown", e => {
	if (e.keyCode == 27) { // закрываем габмургер меню
		if (hamMenu.classList.contains('is-active')) {
			toggleMenu();
		}

		if (modal.classList.contains('is-active')) { // закрываем модалку
			modal.classList.remove('is-active');
			body.classList.remove('is-locked');
		}
	}

});



// all Accordions
allAccordions = document.getElementsByClassName('accordion');

// Ищем ближайшего родителя переданного e.target ,
// у которого радитель - accordion
function findParentAccordItem(elt) {
	let i = 0; // защита от зациклавания
	while (
		!(elt.parentElement.classList.contains('accordion')) &&
		i < 100
	) {
		elt = elt.parentElement;
	}
	return elt;
}

for (let accordList of allAccordions) {
	accordList.addEventListener('click', e => {
		e.preventDefault();
		clickedAccordItem = findParentAccordItem(e.target);
		clickedAccordMenuItems = clickedAccordItem.parentElement.getElementsByTagName("LI");

		for (let accordItem of clickedAccordMenuItems) {
			if (accordItem == clickedAccordItem) {
				accordItem.classList.toggle('is-active');
			} else {
				accordItem.classList.remove('is-active');
			}
		}
	})
};


// Слайдер с Бургерами
slider = new Siema({
	selector: '.burgers__list',
	duration: 200,
	easing: 'ease-out',
	perPage: 1,
	startIndex: 0,
	draggable: true,
	multipleDrag: true,
	threshold: 20,
	loop: true,
	rtl: false,
	// onInit: () => {},
	// onChange: () => {},
});

sliderNextBtn = document.getElementById('burgers_slider-control--next');
sliderNextBtn.addEventListener('click', (e) => {
	e.preventDefault();
	slider.next()
});

sliderPrevBtn = document.getElementById('burgers_slider-control--prev');
sliderPrevBtn.addEventListener('click', (e) => {
	e.preventDefault();
	slider.prev()
});


// AJAX and Order Form
const orderForm = document.getElementById('order-form');


document.getElementById('order-btn').addEventListener('click', e => {
	e.preventDefault();
	const formData = new FormData(),
		URL = "https://webdev-api.loftschool.com/sendmail",
		xhr = new XMLHttpRequest();

	xhr.resposeType = 'json';
	xhr.open("POST", URL);
	xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");

	formData.append('name', orderForm.elements.customerName.value);
	formData.append('phone', orderForm.elements.phone.value);
	formData.append('comment', orderForm.elements.comment.value);
	formData.append('to', 'someemail@mail.ru');

	xhr.send(formData);
	xhr.onload = function () {
		let orderResponse = JSON.parse(xhr.responseText);
		if (orderResponse.status >= 400) { //status 0 fail send
			openModal(name = 'Ошибка', text = orderResponse.message);
			// void(0);
		} else {
			openModal(name = 'Сообщение', text = orderResponse.message);; //status 1 success send
		};
	}
});

// очищаем форму
document.getElementById('clearForm-btn').addEventListener('click', e => {
	e.preventDefault();
	orderForm.reset()
});


// Burgers - скрыть.показать ингредиенты
// let ingredientsVisibility = () => {
$(".ingredients").on({
		// click: e => {
		// 	e.preventDefault();
		// 	$(e.currentTarget).toggleClass('is-active');
		// },
		mouseenter: e => {
			$(e.currentTarget).toggleClass('is-active');
		},
		mouseleave: e => {
			$(e.currentTarget).removeClass('is-active');
		}

	}

)

// };
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSGFtYnVyZ2VyIG1lbnVcclxuY29uc3QgbWVudUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXItbWVudS1saW5rJyksXHJcblx0aGFtTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoYW1idXJnZXItbWVudScpLFxyXG5cdGhhbUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2X19saXN0X2hhbWJ1cmdlcicpLFxyXG5cdGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcbmhhbUxpc3RJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfaGFtYnVyZ2VyIC5uYXZfX2l0ZW0nKTtcclxuXHJcblxyXG5mdW5jdGlvbiDQsHNsZWVwKG1zKSB7XHJcblx0cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB0b2dnbGVNZW51KCkge1xyXG5cdG1lbnVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XHJcblx0aGFtTWVudS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcclxuXHRib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2lzLWxvY2tlZCcpO1xyXG5cclxuXHRmb3IgKGxldCBoYW1MaXN0SXRlbSBvZiBoYW1MaXN0SXRlbXMpIHtcclxuXHRcdC8vIGNvbnNvbGUubG9nKGhhbUxpc3RJdGVtKTtcclxuXHRcdGhhbUxpc3RJdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0YXdhaXQg0LBzbGVlcCgxMDApO1xyXG5cdH07XHJcbn07XHJcblxyXG5tZW51QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdHRvZ2dsZU1lbnUoKTtcclxufSk7XHJcbmhhbUxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRsZXQgZWwgPSBlLnRhcmdldDtcclxuXHRpZiAoZWwudGFnTmFtZSA9PSAnQScpIHtcclxuXHRcdHRvZ2dsZU1lbnUoKTtcclxuXHR9O1xyXG59KTtcclxuXHJcblxyXG4vLyBNb2RhbFxyXG5tb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbCcpO1xyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKG5hbWUgPSAnJywgdGV4dCA9ICcnLCBldmVudCA9IGZhbHNlKSB7XHJcblx0KGV2ZW50ID8gZXZlbnQucHJldmVudERlZmF1bHQoKSA6IHZvaWQoMCkpOyAvLyDQldGB0LvQuCDQvNC+0LTQsNC70LrQsCDQvtGC0LrRgNGL0YLQsCDQvdC1INC/0L4g0LrQu9C40LrRgyDQuNC3INC40LcgQUpBWFxyXG5cdG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xyXG5cdG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbF9fbmFtZScpLnRleHRDb250ZW50ID0gbmFtZTtcclxuXHRtb2RhbC5xdWVyeVNlbGVjdG9yKCcjbW9kYWxfX3RleHQnKS50ZXh0Q29udGVudCA9IHRleHQ7XHJcblx0Ym9keS5jbGFzc0xpc3QuYWRkKCdpcy1sb2NrZWQnKTtcclxufVxyXG4kKCcucmV2aWV3c19faXRlbSAuYnRuJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHRvcGVuTW9kYWwoXHJcblx0XHRuYW1lID0gJChlLnRhcmdldCkuc2libGluZ3MoXCIucmV2aWV3c19fdGl0bGVcIikudGV4dCgpLFxyXG5cdFx0dGV4dCA9ICQoZS50YXJnZXQpLnNpYmxpbmdzKFwiLnJldmlld3NfX3RleHRcIikudGV4dCgpLFxyXG5cdFx0ZXZlbnQgPSBlXHJcblx0KTtcclxufSk7XHJcblxyXG4vLyDQl9Cw0LrRgNGL0YLQuNC1INCe0LrQvdCwXHJcbiQoJy5tb2RhbCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0ID09IG1vZGFsIHx8IGUudGFyZ2V0ID09IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UnKSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0bW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XHJcblx0XHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWxvY2tlZCcpO1xyXG5cdH1cclxufSlcclxuXHJcbi8v0JfQsNC60YDRi9GC0LjQtSDQvNC+0LTQsNC70LrQuCDQuNC70Lgg0LzQtdC90Y4g0L3QsCBFc2NcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZSA9PiB7XHJcblx0aWYgKGUua2V5Q29kZSA9PSAyNykgeyAvLyDQt9Cw0LrRgNGL0LLQsNC10Lwg0LPQsNCx0LzRg9GA0LPQtdGAINC80LXQvdGOXHJcblx0XHRpZiAoaGFtTWVudS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XHJcblx0XHRcdHRvZ2dsZU1lbnUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAobW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkgeyAvLyDQt9Cw0LrRgNGL0LLQsNC10Lwg0LzQvtC00LDQu9C60YNcclxuXHRcdFx0bW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XHJcblx0XHRcdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaXMtbG9ja2VkJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxufSk7XHJcblxyXG5cclxuXHJcbi8vIGFsbCBBY2NvcmRpb25zXHJcbmFsbEFjY29yZGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhY2NvcmRpb24nKTtcclxuXHJcbi8vINCY0YnQtdC8INCx0LvQuNC20LDQudGI0LXQs9C+INGA0L7QtNC40YLQtdC70Y8g0L/QtdGA0LXQtNCw0L3QvdC+0LPQviBlLnRhcmdldCAsXHJcbi8vINGDINC60L7RgtC+0YDQvtCz0L4g0YDQsNC00LjRgtC10LvRjCAtIGFjY29yZGlvblxyXG5mdW5jdGlvbiBmaW5kUGFyZW50QWNjb3JkSXRlbShlbHQpIHtcclxuXHRsZXQgaSA9IDA7IC8vINC30LDRidC40YLQsCDQvtGCINC30LDRhtC40LrQu9Cw0LLQsNC90LjRj1xyXG5cdHdoaWxlIChcclxuXHRcdCEoZWx0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb24nKSkgJiZcclxuXHRcdGkgPCAxMDBcclxuXHQpIHtcclxuXHRcdGVsdCA9IGVsdC5wYXJlbnRFbGVtZW50O1xyXG5cdH1cclxuXHRyZXR1cm4gZWx0O1xyXG59XHJcblxyXG5mb3IgKGxldCBhY2NvcmRMaXN0IG9mIGFsbEFjY29yZGlvbnMpIHtcclxuXHRhY2NvcmRMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRjbGlja2VkQWNjb3JkSXRlbSA9IGZpbmRQYXJlbnRBY2NvcmRJdGVtKGUudGFyZ2V0KTtcclxuXHRcdGNsaWNrZWRBY2NvcmRNZW51SXRlbXMgPSBjbGlja2VkQWNjb3JkSXRlbS5wYXJlbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiTElcIik7XHJcblxyXG5cdFx0Zm9yIChsZXQgYWNjb3JkSXRlbSBvZiBjbGlja2VkQWNjb3JkTWVudUl0ZW1zKSB7XHJcblx0XHRcdGlmIChhY2NvcmRJdGVtID09IGNsaWNrZWRBY2NvcmRJdGVtKSB7XHJcblx0XHRcdFx0YWNjb3JkSXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhY2NvcmRJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSlcclxufTtcclxuXHJcblxyXG4vLyDQodC70LDQudC00LXRgCDRgSDQkdGD0YDQs9C10YDQsNC80Lhcclxuc2xpZGVyID0gbmV3IFNpZW1hKHtcclxuXHRzZWxlY3RvcjogJy5idXJnZXJzX19saXN0JyxcclxuXHRkdXJhdGlvbjogMjAwLFxyXG5cdGVhc2luZzogJ2Vhc2Utb3V0JyxcclxuXHRwZXJQYWdlOiAxLFxyXG5cdHN0YXJ0SW5kZXg6IDAsXHJcblx0ZHJhZ2dhYmxlOiB0cnVlLFxyXG5cdG11bHRpcGxlRHJhZzogdHJ1ZSxcclxuXHR0aHJlc2hvbGQ6IDIwLFxyXG5cdGxvb3A6IHRydWUsXHJcblx0cnRsOiBmYWxzZSxcclxuXHQvLyBvbkluaXQ6ICgpID0+IHt9LFxyXG5cdC8vIG9uQ2hhbmdlOiAoKSA9PiB7fSxcclxufSk7XHJcblxyXG5zbGlkZXJOZXh0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1cmdlcnNfc2xpZGVyLWNvbnRyb2wtLW5leHQnKTtcclxuc2xpZGVyTmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdHNsaWRlci5uZXh0KClcclxufSk7XHJcblxyXG5zbGlkZXJQcmV2QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1cmdlcnNfc2xpZGVyLWNvbnRyb2wtLXByZXYnKTtcclxuc2xpZGVyUHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdHNsaWRlci5wcmV2KClcclxufSk7XHJcblxyXG5cclxuLy8gQUpBWCBhbmQgT3JkZXIgRm9ybVxyXG5jb25zdCBvcmRlckZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JkZXItZm9ybScpO1xyXG5cclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcmRlci1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpLFxyXG5cdFx0VVJMID0gXCJodHRwczovL3dlYmRldi1hcGkubG9mdHNjaG9vbC5jb20vc2VuZG1haWxcIixcclxuXHRcdHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuXHR4aHIucmVzcG9zZVR5cGUgPSAnanNvbic7XHJcblx0eGhyLm9wZW4oXCJQT1NUXCIsIFVSTCk7XHJcblx0eGhyLnNldFJlcXVlc3RIZWFkZXIoXCJYLVJlcXVlc3RlZC1XaXRoXCIsIFwiWE1MSHR0cFJlcXVlc3RcIik7XHJcblxyXG5cdGZvcm1EYXRhLmFwcGVuZCgnbmFtZScsIG9yZGVyRm9ybS5lbGVtZW50cy5jdXN0b21lck5hbWUudmFsdWUpO1xyXG5cdGZvcm1EYXRhLmFwcGVuZCgncGhvbmUnLCBvcmRlckZvcm0uZWxlbWVudHMucGhvbmUudmFsdWUpO1xyXG5cdGZvcm1EYXRhLmFwcGVuZCgnY29tbWVudCcsIG9yZGVyRm9ybS5lbGVtZW50cy5jb21tZW50LnZhbHVlKTtcclxuXHRmb3JtRGF0YS5hcHBlbmQoJ3RvJywgJ3NvbWVlbWFpbEBtYWlsLnJ1Jyk7XHJcblxyXG5cdHhoci5zZW5kKGZvcm1EYXRhKTtcclxuXHR4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0bGV0IG9yZGVyUmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xyXG5cdFx0aWYgKG9yZGVyUmVzcG9uc2Uuc3RhdHVzID49IDQwMCkgeyAvL3N0YXR1cyAwIGZhaWwgc2VuZFxyXG5cdFx0XHRvcGVuTW9kYWwobmFtZSA9ICfQntGI0LjQsdC60LAnLCB0ZXh0ID0gb3JkZXJSZXNwb25zZS5tZXNzYWdlKTtcclxuXHRcdFx0Ly8gdm9pZCgwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG9wZW5Nb2RhbChuYW1lID0gJ9Ch0L7QvtCx0YnQtdC90LjQtScsIHRleHQgPSBvcmRlclJlc3BvbnNlLm1lc3NhZ2UpOzsgLy9zdGF0dXMgMSBzdWNjZXNzIHNlbmRcclxuXHRcdH07XHJcblx0fVxyXG59KTtcclxuXHJcbi8vINC+0YfQuNGJ0LDQtdC8INGE0L7RgNC80YNcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsZWFyRm9ybS1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRvcmRlckZvcm0ucmVzZXQoKVxyXG59KTtcclxuXHJcblxyXG4vLyBCdXJnZXJzIC0g0YHQutGA0YvRgtGMLtC/0L7QutCw0LfQsNGC0Ywg0LjQvdCz0YDQtdC00LjQtdC90YLRi1xyXG4vLyBsZXQgaW5ncmVkaWVudHNWaXNpYmlsaXR5ID0gKCkgPT4ge1xyXG4kKFwiLmluZ3JlZGllbnRzXCIpLm9uKHtcclxuXHRcdC8vIGNsaWNrOiBlID0+IHtcclxuXHRcdC8vIFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0Ly8gXHQkKGUuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0Ly8gfSxcclxuXHRcdG1vdXNlZW50ZXI6IGUgPT4ge1xyXG5cdFx0XHQkKGUuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0fSxcclxuXHRcdG1vdXNlbGVhdmU6IGUgPT4ge1xyXG5cdFx0XHQkKGUuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG4pXHJcblxyXG4vLyB9OyJdfQ==
