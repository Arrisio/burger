const menuBtn = document.querySelector('.hamburger-menu-link'),
	hamMenu = document.getElementById('hamburger-menu'),
	hamList = document.getElementById('nav__list_hamburger'),
	body = document.querySelector('body');
hamListItems = document.querySelectorAll('.nav_hamburger .nav__item');


function аsleep(ms) {
	return new Promise(resolve => setTimeout(resolve, ms));
}

function аsleep(ms) {
	return new Promise(resolve => setTimeout(resolve, ms));
}
async function toggleMenu() {
	menuBtn.classList.toggle('is-active');
	body.classList.toggle('is-locked');
	hamMenu.classList.toggle('is-active');

	for (let hamListItem of hamListItems) {
		// console.log(hamListItem);
		hamListItem.classList.toggle('is-active');
		await аsleep(100);
	};
};

menuBtn.addEventListener('click', e => {
	e.preventDefault();
	toggleMenu();
});
hamList.addEventListener('click', e => {
	let el = e.target;
	if (el.tagName == 'A') {
		toggleMenu();
	};
});

document.addEventListener("keydown", e => {
	if (e.keyCode == 27 && hamMenu.classList.contains('is-active')) {
		toggleMenu();
	}
});


allAccordions = document.getElementsByClassName('accordion');



function findParentAccordItem(elt) {
	let i = 0; // защита от зациклавания
	while (
		!(elt.parentElement.classList.contains('accordion')) &&
		i < 100
	) {
		elt = elt.parentElement;
	}
	return elt;
}


for (let accordList of allAccordions) {
	accordList.addEventListener('click', e => {
		e.preventDefault();
		clickedAccordItem = findParentAccordItem(e.target);
		clickedAccordMenuItems = clickedAccordItem.parentElement.getElementsByTagName("LI");

		for (let accordItem of clickedAccordMenuItems) {
			if (accordItem == clickedAccordItem) {
				accordItem.classList.toggle('is-active');
			} else {
				accordItem.classList.remove('is-active');
			}
		}
	})
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1lbnVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFtYnVyZ2VyLW1lbnUtbGluaycpLFxyXG5cdGhhbU1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGFtYnVyZ2VyLW1lbnUnKSxcclxuXHRoYW1MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdl9fbGlzdF9oYW1idXJnZXInKSxcclxuXHRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5oYW1MaXN0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X2hhbWJ1cmdlciAubmF2X19pdGVtJyk7XHJcblxyXG5cclxuZnVuY3Rpb24g0LBzbGVlcChtcykge1xyXG5cdHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcclxufVxyXG5cclxuZnVuY3Rpb24g0LBzbGVlcChtcykge1xyXG5cdHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcclxufVxyXG5hc3luYyBmdW5jdGlvbiB0b2dnbGVNZW51KCkge1xyXG5cdG1lbnVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XHJcblx0Ym9keS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1sb2NrZWQnKTtcclxuXHRoYW1NZW51LmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xyXG5cclxuXHRmb3IgKGxldCBoYW1MaXN0SXRlbSBvZiBoYW1MaXN0SXRlbXMpIHtcclxuXHRcdC8vIGNvbnNvbGUubG9nKGhhbUxpc3RJdGVtKTtcclxuXHRcdGhhbUxpc3RJdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0YXdhaXQg0LBzbGVlcCgxMDApO1xyXG5cdH07XHJcbn07XHJcblxyXG5tZW51QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdHRvZ2dsZU1lbnUoKTtcclxufSk7XHJcbmhhbUxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRsZXQgZWwgPSBlLnRhcmdldDtcclxuXHRpZiAoZWwudGFnTmFtZSA9PSAnQScpIHtcclxuXHRcdHRvZ2dsZU1lbnUoKTtcclxuXHR9O1xyXG59KTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGUgPT4ge1xyXG5cdGlmIChlLmtleUNvZGUgPT0gMjcgJiYgaGFtTWVudS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XHJcblx0XHR0b2dnbGVNZW51KCk7XHJcblx0fVxyXG59KTtcclxuXHJcblxyXG5hbGxBY2NvcmRpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWNjb3JkaW9uJyk7XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGZpbmRQYXJlbnRBY2NvcmRJdGVtKGVsdCkge1xyXG5cdGxldCBpID0gMDsgLy8g0LfQsNGJ0LjRgtCwINC+0YIg0LfQsNGG0LjQutC70LDQstCw0L3QuNGPXHJcblx0d2hpbGUgKFxyXG5cdFx0IShlbHQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY29yZGlvbicpKSAmJlxyXG5cdFx0aSA8IDEwMFxyXG5cdCkge1xyXG5cdFx0ZWx0ID0gZWx0LnBhcmVudEVsZW1lbnQ7XHJcblx0fVxyXG5cdHJldHVybiBlbHQ7XHJcbn1cclxuXHJcblxyXG5mb3IgKGxldCBhY2NvcmRMaXN0IG9mIGFsbEFjY29yZGlvbnMpIHtcclxuXHRhY2NvcmRMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRjbGlja2VkQWNjb3JkSXRlbSA9IGZpbmRQYXJlbnRBY2NvcmRJdGVtKGUudGFyZ2V0KTtcclxuXHRcdGNsaWNrZWRBY2NvcmRNZW51SXRlbXMgPSBjbGlja2VkQWNjb3JkSXRlbS5wYXJlbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiTElcIik7XHJcblxyXG5cdFx0Zm9yIChsZXQgYWNjb3JkSXRlbSBvZiBjbGlja2VkQWNjb3JkTWVudUl0ZW1zKSB7XHJcblx0XHRcdGlmIChhY2NvcmRJdGVtID09IGNsaWNrZWRBY2NvcmRJdGVtKSB7XHJcblx0XHRcdFx0YWNjb3JkSXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhY2NvcmRJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSlcclxufTsiXX0=
